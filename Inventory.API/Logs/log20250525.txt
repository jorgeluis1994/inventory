2025-05-25 11:07:00.361 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:07:00.441 -05:00 [WRN] The foreign key property 'Batch.ProductId1' was created in shadow state because a conflicting property with the simple name 'ProductId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-25 11:07:16.014 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:07:16.071 -05:00 [WRN] The foreign key property 'Batch.ProductId1' was created in shadow state because a conflicting property with the simple name 'ProductId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-25 11:07:16.499 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:07:16.515 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 11:07:16.547 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 11:07:16.636 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 11:07:16.646 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:07:16.647 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 11:07:16.651 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 11:07:16.663 -05:00 [INF] Applying migration '20250525160701_CreateUserTable'.
2025-05-25 11:07:16.686 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 11:07:16.689 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 11:07:16.693 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batches] (
    [Id] uniqueidentifier NOT NULL,
    [ProductId1] int NULL,
    CONSTRAINT [PK_Batches] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Batches_Products_ProductId1] FOREIGN KEY ([ProductId1]) REFERENCES [Products] ([Id])
);
2025-05-25 11:07:16.699 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Batches_ProductId1] ON [Batches] ([ProductId1]);
2025-05-25 11:07:16.703 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250525160701_CreateUserTable', N'9.0.5');
2025-05-25 11:07:16.709 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-05-25 11:21:31.731 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:21:31.805 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:21:54.618 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:21:54.693 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:21:54.992 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:21:55.005 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 11:21:55.024 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 11:21:55.079 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 11:21:55.090 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:21:55.091 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 11:21:55.094 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 11:21:55.102 -05:00 [INF] Applying migration '20250525162132_CreateUserTable'.
2025-05-25 11:21:55.133 -05:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 11:22:16.835 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:22:16.909 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:22:17.209 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:22:17.222 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 11:22:17.241 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 11:22:17.312 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 11:22:17.319 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:22:17.320 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 11:22:17.323 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 11:22:17.335 -05:00 [INF] Applying migration '20250525162132_CreateUserTable'.
2025-05-25 11:22:17.355 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 11:22:17.362 -05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 11:22:43.219 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:22:43.290 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:22:43.601 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:22:43.612 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 11:22:43.629 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 11:22:43.693 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 11:22:43.704 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 11:22:43.704 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 11:22:43.708 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 11:22:43.718 -05:00 [INF] Applying migration '20250525162132_CreateUserTable'.
2025-05-25 11:22:43.740 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 11:22:43.742 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 11:22:43.745 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batches] (
    [Id] uniqueidentifier NOT NULL,
    [EntryDate] datetime2 NOT NULL,
    [PriceAmount] decimal(18,2) NOT NULL,
    [PriceCurrency] nvarchar(3) NOT NULL,
    [ProductId] int NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Batches] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Batches_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);
2025-05-25 11:22:43.746 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Batches_ProductId] ON [Batches] ([ProductId]);
2025-05-25 11:22:43.748 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250525162132_CreateUserTable', N'9.0.5');
2025-05-25 11:22:43.751 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-05-25 11:24:54.519 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-05-25 11:24:54.815 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 11:24:54.899 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:24:54.903 -05:00 [INF] Hosting environment: Development
2025-05-25 11:24:54.905 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 11:24:55.474 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:24:55.744 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 277.4581ms
2025-05-25 11:24:55.770 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:24:55.779 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:24:55.781 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.5076ms
2025-05-25 11:24:55.843 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.3564ms
2025-05-25 11:24:56.003 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:24:56.013 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4604ms
2025-05-25 11:43:23.737 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 11:43:24.130 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:43:24.133 -05:00 [INF] Hosting environment: Development
2025-05-25 11:43:24.135 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 11:43:24.147 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:43:24.386 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 254.9832ms
2025-05-25 11:43:24.411 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:43:24.415 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:43:24.422 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.3281ms
2025-05-25 11:43:24.466 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.7117ms
2025-05-25 11:43:24.542 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:43:24.570 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.8529ms
2025-05-25 11:43:33.586 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 11:43:33.606 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 11:43:33.609 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:43:33.638 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:43:34.347 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:43:34.411 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:43:34.767 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 1120.6948ms
2025-05-25 11:43:34.772 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:43:34.776 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 11:43:34.856 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 1270.1823ms
2025-05-25 11:44:39.011 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Products - application/json 439
2025-05-25 11:44:39.022 -05:00 [INF] CORS policy execution failed.
2025-05-25 11:44:39.026 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 11:44:39.029 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:44:39.040 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Inventory.Application.DTOs.ProductDto) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:44:39.805 -05:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='Café Premium' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-25 11:44:39.884 -05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 11:44:39.916 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Create (Inventory.API) in 870.5156ms
2025-05-25 11:44:39.920 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:44:39.929 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Products - 201 null application/json; charset=utf-8 918.0376ms
2025-05-25 11:46:24.031 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 11:46:24.209 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:46:24.212 -05:00 [INF] Hosting environment: Development
2025-05-25 11:46:24.214 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 11:46:24.603 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:46:24.822 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 225.7536ms
2025-05-25 11:46:24.847 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:46:24.851 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:46:24.865 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.0372ms
2025-05-25 11:46:24.902 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.83ms
2025-05-25 11:46:24.973 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:46:24.988 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2937ms
2025-05-25 11:46:32.154 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Products - application/json 439
2025-05-25 11:46:32.173 -05:00 [INF] CORS policy execution failed.
2025-05-25 11:46:32.176 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 11:46:32.183 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 11:46:32.189 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:46:32.232 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Inventory.Application.DTOs.ProductDto) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:46:45.056 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:46:45.114 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:46:45.797 -05:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='Café Premium' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-25 11:46:45.935 -05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 11:46:45.980 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Create (Inventory.API) in 13739.1943ms
2025-05-25 11:46:45.983 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:46:45.996 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Products - 201 null application/json; charset=utf-8 13841.6765ms
2025-05-25 11:49:26.787 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 11:49:26.978 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:49:26.982 -05:00 [INF] Hosting environment: Development
2025-05-25 11:49:26.984 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 11:49:27.314 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:49:27.585 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 280.3296ms
2025-05-25 11:49:27.611 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:49:27.611 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:49:27.621 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.8335ms
2025-05-25 11:49:27.657 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4403ms
2025-05-25 11:49:27.751 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:49:27.784 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.397ms
2025-05-25 11:50:03.989 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:50:04.021 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 32.6077ms
2025-05-25 11:50:04.046 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:50:04.046 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:50:04.072 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 26.5944ms
2025-05-25 11:50:04.080 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.2555ms
2025-05-25 11:50:04.171 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:50:04.185 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0934ms
2025-05-25 11:50:18.007 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Products - application/json 433
2025-05-25 11:50:18.023 -05:00 [INF] CORS policy execution failed.
2025-05-25 11:50:18.027 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 11:50:18.029 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 11:50:18.032 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:50:18.062 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Inventory.Application.DTOs.ProductDto) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:50:24.184 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 11:50:24.253 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 11:50:24.926 -05:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='Arroz Integral' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-25 11:50:25.002 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='e33a6497-3bb9-4270-9f71-8dfe59032d6d', @p2='2025-05-24T09:30:00.0000000Z', @p3='21.0' (Precision = 18) (Scale = 2), @p4='USD' (Nullable = false) (Size = 3), @p5='3', @p6='30', @p7='f54c7503-e5dd-4001-a15b-f23127d66ce7', @p8='2025-05-25T12:00:00.0000000Z', @p9='22.5' (Precision = 18) (Scale = 2), @p10='USD' (Nullable = false) (Size = 3), @p11='3', @p12='50'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Batches] ([Id], [EntryDate], [PriceAmount], [PriceCurrency], [ProductId], [Quantity])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12);
2025-05-25 11:50:25.032 -05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 11:50:25.061 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Create (Inventory.API) in 6990.4143ms
2025-05-25 11:50:25.065 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 11:50:25.076 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Products - 201 null application/json; charset=utf-8 7069.1285ms
2025-05-25 11:51:08.005 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 11:51:08.021 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:08.027 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:51:08.298 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 266.2978ms
2025-05-25 11:51:08.303 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:08.309 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method131(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 11:51:08.356 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 352.0773ms
2025-05-25 11:51:20.257 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 11:51:20.278 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 21.6536ms
2025-05-25 11:51:20.299 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 11:51:20.299 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:51:20.330 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 31.3742ms
2025-05-25 11:51:20.337 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.6799ms
2025-05-25 11:51:20.426 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 11:51:20.438 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0151ms
2025-05-25 11:51:23.650 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 11:51:23.664 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:23.668 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:51:23.794 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 121.5469ms
2025-05-25 11:51:23.798 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:23.802 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method131(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 11:51:23.824 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 173.6505ms
2025-05-25 11:51:31.458 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 11:51:31.465 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:31.468 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:51:31.571 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 98.8907ms
2025-05-25 11:51:31.575 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:31.580 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method131(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 11:51:31.602 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 143.3247ms
2025-05-25 11:51:39.206 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 11:51:39.214 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:39.217 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 11:51:39.318 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 96.5578ms
2025-05-25 11:51:39.322 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 11:51:39.326 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method131(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 11:51:39.343 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 137.1096ms
2025-05-25 12:00:21.173 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:00:21.390 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:00:21.393 -05:00 [INF] Hosting environment: Development
2025-05-25 12:00:21.397 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:00:21.591 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:00:21.831 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 249.867ms
2025-05-25 12:00:21.847 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:00:21.855 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.4696ms
2025-05-25 12:00:21.863 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:00:21.908 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0086ms
2025-05-25 12:00:21.965 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:00:21.976 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.6899ms
2025-05-25 12:06:55.389 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:06:55.665 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:06:55.809 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:06:55.812 -05:00 [INF] Hosting environment: Development
2025-05-25 12:06:55.815 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:06:55.893 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 237.0922ms
2025-05-25 12:06:55.912 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:06:55.921 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.7784ms
2025-05-25 12:06:55.932 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:06:55.982 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.3999ms
2025-05-25 12:06:56.063 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:06:56.077 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1009ms
2025-05-25 12:07:09.275 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 12:07:09.290 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:07:09.294 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:07:09.320 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:07:09.959 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:07:10.022 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:07:10.366 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 1036.8747ms
2025-05-25 12:07:10.372 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:07:10.377 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 12:07:10.449 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 1174.2616ms
2025-05-25 12:07:30.038 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 12:07:30.045 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:07:30.049 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:07:30.170 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 115.8694ms
2025-05-25 12:07:30.175 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:07:30.179 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 12:07:30.200 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 162.1554ms
2025-05-25 12:09:25.512 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:09:25.679 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:09:25.752 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:09:25.754 -05:00 [INF] Hosting environment: Development
2025-05-25 12:09:25.756 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:09:25.921 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 249.0574ms
2025-05-25 12:09:25.936 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:09:25.944 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.2967ms
2025-05-25 12:09:25.953 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:09:25.994 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8101ms
2025-05-25 12:09:26.076 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:09:26.092 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.0662ms
2025-05-25 12:09:28.493 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 12:09:28.508 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:09:28.514 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:09:28.538 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:09:29.175 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:09:29.229 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:09:30.094 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 12:09:30.138 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:09:30.165 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 1619.374ms
2025-05-25 12:09:30.169 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:09:30.181 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 200 null application/json; charset=utf-8 1687.5243ms
2025-05-25 12:15:37.508 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/User/login - null null
2025-05-25 12:15:37.518 -05:00 [INF] CORS policy execution successful.
2025-05-25 12:15:37.522 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/User/login - 204 null null 14.1258ms
2025-05-25 12:15:37.532 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/User/login - application/json 67
2025-05-25 12:15:37.538 -05:00 [INF] CORS policy execution successful.
2025-05-25 12:15:37.541 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/User/login - 404 0 null 8.2383ms
2025-05-25 12:15:37.550 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5042/api/User/login, Response status code: 404
2025-05-25 12:16:28.305 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/1 - null null
2025-05-25 12:16:28.320 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:16:28.333 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(Int32) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:16:28.578 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetById (Inventory.API) in 239.8742ms
2025-05-25 12:16:28.583 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:16:28.589 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Batches' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetByIdAsync(Int32 id) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 26
   at Inventory.Application.Services.ProductService.GetByIdAsync(Int32 id) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 28
   at Inventory.API.Controllers.ProductsController.GetById(Int32 id) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 32
   at lambda_method63(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 12:16:28.641 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products/1 - 500 null text/plain; charset=utf-8 335.392ms
2025-05-25 12:23:47.142 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:23:47.436 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:23:47.492 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:23:47.494 -05:00 [INF] Hosting environment: Development
2025-05-25 12:23:47.497 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:23:47.671 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 243.0366ms
2025-05-25 12:23:47.699 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:23:47.699 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:23:47.707 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.759ms
2025-05-25 12:23:47.749 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.7519ms
2025-05-25 12:23:47.827 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:23:47.841 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5379ms
2025-05-25 12:23:55.179 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/1 - null null
2025-05-25 12:23:55.206 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:23:55.211 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:23:55.262 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(Int32) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:24:00.583 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:24:00.650 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:24:01.689 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 12:24:01.745 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 12:24:01.765 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetById (Inventory.API) in 6493.9966ms
2025-05-25 12:24:01.770 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:24:01.781 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products/1 - 200 null application/json; charset=utf-8 6603.014ms
2025-05-25 12:24:17.597 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/2 - null null
2025-05-25 12:24:17.607 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:24:17.611 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(Int32) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:24:17.642 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 12:24:17.648 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 12:24:17.650 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetById (Inventory.API) in 34.4666ms
2025-05-25 12:24:17.652 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:24:17.654 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products/2 - 200 null application/json; charset=utf-8 56.9991ms
2025-05-25 12:24:20.986 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:24:21.001 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 15.3199ms
2025-05-25 12:24:21.022 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:24:21.022 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:24:21.051 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 28.7615ms
2025-05-25 12:24:21.066 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.1432ms
2025-05-25 12:24:21.123 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:24:21.137 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2501ms
2025-05-25 12:24:26.814 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/2 - null null
2025-05-25 12:24:26.823 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:24:26.826 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(Int32) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:24:26.903 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 12:24:26.909 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 12:24:26.915 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetById (Inventory.API) in 82.9472ms
2025-05-25 12:24:26.919 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:24:26.922 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products/2 - 200 null application/json; charset=utf-8 107.7076ms
2025-05-25 12:25:04.746 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:25:04.987 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:25:04.989 -05:00 [INF] Hosting environment: Development
2025-05-25 12:25:04.992 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:25:05.394 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:25:05.657 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 280.5868ms
2025-05-25 12:25:05.693 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:25:05.694 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:25:05.702 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.968ms
2025-05-25 12:25:05.751 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.782ms
2025-05-25 12:25:05.828 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:25:05.847 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.533ms
2025-05-25 12:25:11.390 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/1 - null null
2025-05-25 12:25:11.416 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:25:11.421 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:25:11.458 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(Int32) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:25:12.246 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:25:12.300 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:25:13.150 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 12:33:28.309 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:33:28.447 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:33:28.450 -05:00 [INF] Hosting environment: Development
2025-05-25 12:33:28.452 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:33:28.785 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:33:29.034 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 256.1929ms
2025-05-25 12:33:29.051 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:33:29.061 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.3438ms
2025-05-25 12:33:29.072 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:33:29.114 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.788ms
2025-05-25 12:33:29.210 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:33:29.228 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2834ms
2025-05-25 12:33:32.486 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 12:33:32.499 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:33:32.505 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:33:32.537 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:33:33.563 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 1019.8414ms
2025-05-25 12:33:33.567 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:33:33.571 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property '_productId' cannot be added to the type 'Batch' because the type of the corresponding CLR property or field 'Guid' does not match the specified type 'int'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.TypeBase.AddProperty(String name, Type propertyType, MemberInfo memberInfo, Nullable`1 typeConfigurationSource, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalTypeBaseBuilder.Property(Type propertyType, String propertyName, MemberInfo memberInfo, Nullable`1 typeConfigurationSource, Nullable`1 configurationSource, Boolean skipTypeCheck)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalTypeBaseBuilder.Property(Type propertyType, String propertyName, Nullable`1 configurationSource, Boolean skipTypeCheck)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder.Property[TProperty](String propertyName)
   at Inventory.Infrastructure.Configurations.BatchConfiguration.Configure(EntityTypeBuilder`1 builder) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Configuration\BatchConfiguration.cs:line 15
   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfiguration[TEntity](IEntityTypeConfiguration`1 configuration)
   at Inventory.Infrastructure.InventoryDbContext.OnModelCreating(ModelBuilder modelBuilder) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Data\InventoryDbContext.cs:line 21
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity](IQueryable`1 source, String navigationPropertyPath)
   at Inventory.Infrastructure.Repositories.ProductRepository.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\ProductRepository.cs:line 37
   at Inventory.Application.Services.ProductService.GetAllAsync() in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\ProductService.cs:line 34
   at Inventory.API.Controllers.ProductsController.GetAll() in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\ProductsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 12:33:33.663 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 500 null text/plain; charset=utf-8 1177.286ms
2025-05-25 12:35:41.087 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:35:41.160 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:35:48.208 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:35:48.279 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:35:48.624 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 12:35:48.635 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 12:35:48.648 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 12:35:48.706 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 12:35:48.712 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 12:35:48.713 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 12:35:48.717 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 12:35:48.726 -05:00 [INF] Applying migration '20250525173541_CreateUserTable'.
2025-05-25 12:35:48.741 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 12:35:48.742 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 12:35:48.744 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batches] (
    [Id] uniqueidentifier NOT NULL,
    [EntryDate] datetime2 NOT NULL,
    [PriceAmount] decimal(18,2) NOT NULL,
    [PriceCurrency] nvarchar(3) NOT NULL,
    [ProductId] uniqueidentifier NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Batches] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Batches_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);
2025-05-25 12:35:49.370 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Batches_ProductId] ON [Batches] ([ProductId]);
2025-05-25 12:35:49.375 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250525173541_CreateUserTable', N'9.0.5');
2025-05-25 12:35:49.378 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-05-25 12:36:31.622 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 12:36:31.762 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:36:31.765 -05:00 [INF] Hosting environment: Development
2025-05-25 12:36:31.768 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 12:36:32.244 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 12:36:32.469 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 235.5249ms
2025-05-25 12:36:32.499 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:36:32.499 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 12:36:32.508 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.7452ms
2025-05-25 12:36:32.558 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.1739ms
2025-05-25 12:36:32.662 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 12:36:32.681 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.1675ms
2025-05-25 12:37:37.370 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Products - application/json 318
2025-05-25 12:37:37.384 -05:00 [INF] CORS policy execution failed.
2025-05-25 12:37:37.387 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 12:37:37.390 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:37:37.393 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 12:37:37.426 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Inventory.Application.DTOs.ProductDto) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:37:38.150 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 12:37:38.217 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 12:37:38.996 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8', @p1='Arroz Integral' (Nullable = false) (Size = 100), @p2='41fc21a6-cb98-4135-9635-f682877d0cd7', @p3='2025-05-26T10:30:00.0000000Z', @p4='22.0' (Precision = 18) (Scale = 2), @p5='USD' (Nullable = false) (Size = 3), @p6='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8', @p7='50', @p8='b4a94f76-7e81-43e1-848a-483b44781e29', @p9='2025-05-25T14:00:00.0000000Z', @p10='21.5' (Precision = 18) (Scale = 2), @p11='USD' (Nullable = false) (Size = 3), @p12='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8', @p13='30'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [Name])
VALUES (@p0, @p1);
INSERT INTO [Batches] ([Id], [EntryDate], [PriceAmount], [PriceCurrency], [ProductId], [Quantity])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11, @p12, @p13);
2025-05-25 12:37:39.051 -05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 12:37:39.082 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Create (Inventory.API) in 1647.2667ms
2025-05-25 12:37:39.086 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Create (Inventory.API)'
2025-05-25 12:37:39.097 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Products - 201 null application/json; charset=utf-8 1727.4447ms
2025-05-25 12:37:51.364 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 12:37:51.373 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:37:51.380 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:37:51.846 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 12:37:51.876 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:37:51.880 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 495.7828ms
2025-05-25 12:37:51.884 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 12:37:51.888 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 200 null application/json; charset=utf-8 523.9916ms
2025-05-25 12:38:49.915 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - null null
2025-05-25 12:38:49.925 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:38:49.933 -05:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.ProductDto]] GetById(System.Guid) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 12:38:50.036 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 12:38:58.978 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.ProductDto'.
2025-05-25 12:38:58.982 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetById (Inventory.API) in 9043.9003ms
2025-05-25 12:38:58.985 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetById (Inventory.API)'
2025-05-25 12:38:58.987 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - 200 null application/json; charset=utf-8 9072.6547ms
2025-05-25 13:42:43.946 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 13:42:43.956 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 13:42:43.959 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 13:42:43.995 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 13:42:44.001 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:42:44.004 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 39.8196ms
2025-05-25 13:42:44.007 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 13:42:44.009 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 200 null application/json; charset=utf-8 62.5248ms
2025-05-25 13:43:52.211 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 13:43:52.347 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 13:43:52.351 -05:00 [INF] Hosting environment: Development
2025-05-25 13:43:52.354 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 13:43:52.897 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 13:43:53.188 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 319.4099ms
2025-05-25 13:43:53.218 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 13:43:53.218 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 13:43:53.230 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.5863ms
2025-05-25 13:43:53.267 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.5767ms
2025-05-25 13:43:53.357 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 13:43:53.370 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.1099ms
2025-05-25 13:44:02.592 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - null null
2025-05-25 13:44:02.606 -05:00 [INF] CORS policy execution failed.
2025-05-25 13:44:02.608 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 13:44:02.615 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 13:44:02.618 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Delete (Inventory.API)'
2025-05-25 13:44:02.648 -05:00 [INF] Route matched with {action = "Delete", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(System.Guid) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 13:44:08.058 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 13:44:08.109 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 13:44:09.131 -05:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [p0]
LEFT JOIN [Batches] AS [b] ON [p0].[Id] = [b].[ProductId]
ORDER BY [p0].[Id]
2025-05-25 13:44:42.471 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='41fc21a6-cb98-4135-9635-f682877d0cd7', @p1='b4a94f76-7e81-43e1-848a-483b44781e29', @p2='5a51631c-3c82-41ff-f1ed-08dd9bb2d7c8'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Batches]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Batches]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Products]
OUTPUT 1
WHERE [Id] = @p2;
2025-05-25 13:44:42.515 -05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-25 13:44:42.524 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Delete (Inventory.API) in 39867.0729ms
2025-05-25 13:44:42.529 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Delete (Inventory.API)'
2025-05-25 13:44:42.544 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - 204 null null 39951.6937ms
2025-05-25 13:45:37.163 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - application/json 278
2025-05-25 13:45:37.173 -05:00 [INF] CORS policy execution failed.
2025-05-25 13:45:37.175 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 13:45:37.178 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.Update (Inventory.API)'
2025-05-25 13:45:37.185 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(System.Guid, Inventory.Application.DTOs.ProductDto) on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 13:45:37.243 -05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-25 13:45:37.265 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.Update (Inventory.API) in 75.55ms
2025-05-25 13:45:37.268 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.Update (Inventory.API)'
2025-05-25 13:45:37.270 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5042/api/Products/5A51631C-3C82-41FF-F1ED-08DD9BB2D7C8 - 400 null application/problem+json; charset=utf-8 108.8535ms
2025-05-25 14:13:07.980 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/Products - null null
2025-05-25 14:13:07.995 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 14:13:08.001 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 14:13:08.070 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 14:13:08.081 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:13:08.087 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 81.5391ms
2025-05-25 14:13:08.090 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 14:13:08.092 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/Products - 200 null application/json; charset=utf-8 111.7412ms
2025-05-25 14:33:20.836 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:33:20.975 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:33:20.979 -05:00 [INF] Hosting environment: Development
2025-05-25 14:33:20.981 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:33:21.480 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:33:21.720 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 247.2336ms
2025-05-25 14:33:21.741 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:33:21.749 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.4262ms
2025-05-25 14:33:21.761 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:33:21.798 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.5918ms
2025-05-25 14:33:21.885 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:33:21.901 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.709ms
2025-05-25 14:33:58.721 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 71
2025-05-25 14:33:58.741 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:33:58.744 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:33:58.747 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:33:58.749 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:33:58.775 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:34:20.216 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:34:20.582 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:34:20.585 -05:00 [INF] Hosting environment: Development
2025-05-25 14:34:20.587 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:34:20.709 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:34:20.932 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 229.7894ms
2025-05-25 14:34:20.960 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:34:20.960 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:34:20.969 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.7245ms
2025-05-25 14:34:21.018 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7751ms
2025-05-25 14:34:21.135 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:34:21.151 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.914ms
2025-05-25 14:34:27.592 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 71
2025-05-25 14:34:27.611 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:34:27.612 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:34:27.619 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:34:27.623 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:34:27.663 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:34:33.011 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:34:33.066 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:34:33.537 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 5855.1945ms
2025-05-25 14:34:33.552 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:34:33.571 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email == __email_0 && u.Password == __passwordHash_1)' could not be translated. Additional information: Translation of member 'Email' on entity type 'User' failed. This commonly occurs when the specified member is unmapped.
Translation of member 'Password' on entity type 'User' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.UserRepository.ValidateLoginAsync(String email, String passwordHash) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\UserRepository.cs:line 64
   at Inventory.Application.Services.UserService.ValidateLoginAsync(String email, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 28
   at Inventory.API.Controllers.AuthController.Login(LoginRequest loginRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 27
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 14:34:33.653 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 500 null text/plain; charset=utf-8 6061.7235ms
2025-05-25 14:34:58.788 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:34:58.968 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:34:58.971 -05:00 [INF] Hosting environment: Development
2025-05-25 14:34:58.973 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:34:59.647 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:34:59.888 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 249.8345ms
2025-05-25 14:34:59.918 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:34:59.918 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:34:59.926 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.7585ms
2025-05-25 14:34:59.967 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.1043ms
2025-05-25 14:35:00.060 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:35:00.078 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2096ms
2025-05-25 14:35:11.034 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 71
2025-05-25 14:35:11.051 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:35:11.054 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:35:11.058 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:35:11.061 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:35:11.098 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:35:49.417 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:35:49.650 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:35:49.696 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:35:49.713 -05:00 [INF] Hosting environment: Development
2025-05-25 14:35:49.723 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:35:49.936 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 297.3055ms
2025-05-25 14:35:49.961 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:35:49.965 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:35:49.976 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.3233ms
2025-05-25 14:35:50.012 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.7547ms
2025-05-25 14:35:50.088 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:35:50.104 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.023ms
2025-05-25 14:35:57.098 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 71
2025-05-25 14:35:57.116 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:35:57.120 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:35:57.126 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:35:57.129 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:35:57.159 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:38:21.879 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:38:22.112 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:38:22.136 -05:00 [INF] Hosting environment: Development
2025-05-25 14:38:22.141 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:38:22.275 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:38:22.557 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 295.982ms
2025-05-25 14:38:22.596 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:38:22.596 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:38:22.608 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.6179ms
2025-05-25 14:38:22.639 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2429ms
2025-05-25 14:38:22.702 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:38:22.716 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.7619ms
2025-05-25 14:38:30.390 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 14:38:30.407 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:38:30.409 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:38:30.414 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:38:30.417 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:38:30.450 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:38:40.129 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:38:40.190 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:38:49.775 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 19318.7605ms
2025-05-25 14:38:49.781 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:38:49.787 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email == __email_0 && u.Password == __passwordHash_1)' could not be translated. Additional information: Translation of member 'Email' on entity type 'User' failed. This commonly occurs when the specified member is unmapped.
Translation of member 'Password' on entity type 'User' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.UserRepository.ValidateLoginAsync(String email, String passwordHash) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\UserRepository.cs:line 64
   at Inventory.Application.Services.UserService.ValidateLoginAsync(String email, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 28
   at Inventory.API.Controllers.AuthController.Login(LoginRequest loginRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 27
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 14:38:49.843 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 500 null text/plain; charset=utf-8 19452.6231ms
2025-05-25 14:39:50.215 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:39:50.561 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:39:50.732 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:39:50.735 -05:00 [INF] Hosting environment: Development
2025-05-25 14:39:50.738 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:39:50.825 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 273.8205ms
2025-05-25 14:39:50.854 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:39:50.856 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:39:50.863 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.3367ms
2025-05-25 14:39:50.908 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.7556ms
2025-05-25 14:39:50.982 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:39:50.997 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.8272ms
2025-05-25 14:39:54.494 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:39:54.510 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 16.757ms
2025-05-25 14:39:54.533 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:39:54.533 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:39:54.542 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2557ms
2025-05-25 14:39:54.566 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.7991ms
2025-05-25 14:39:54.608 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:39:54.623 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.8941ms
2025-05-25 14:40:02.607 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 14:40:02.622 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:40:02.626 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:40:02.631 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:40:02.635 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:40:02.664 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:40:09.777 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:40:09.845 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:40:10.317 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 7644.8327ms
2025-05-25 14:40:10.324 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:40:10.330 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email == __email_0 && u.Password == __passwordHash_1)' could not be translated. Additional information: Translation of member 'Email' on entity type 'User' failed. This commonly occurs when the specified member is unmapped.
Translation of member 'Password' on entity type 'User' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.UserRepository.ValidateLoginAsync(String email, String passwordHash) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\UserRepository.cs:line 64
   at Inventory.Application.Services.UserService.ValidateLoginAsync(String email, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 28
   at Inventory.API.Controllers.AuthController.Login(LoginRequest loginRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 27
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 14:40:10.407 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 500 null text/plain; charset=utf-8 7799.9845ms
2025-05-25 14:44:42.110 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:44:42.287 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:44:42.290 -05:00 [INF] Hosting environment: Development
2025-05-25 14:44:42.294 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:44:42.600 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:44:42.831 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 241.7449ms
2025-05-25 14:44:42.849 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:44:42.857 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.8989ms
2025-05-25 14:44:42.869 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:44:42.907 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.2892ms
2025-05-25 14:44:42.971 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:44:42.989 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3408ms
2025-05-25 14:45:07.952 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 14:45:07.968 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:45:07.970 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:45:07.977 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:45:07.980 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:45:08.012 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:45:08.699 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:45:08.766 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:45:09.632 -05:00 [INF] Executed DbCommand (66ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000), @__passwordHash_1='MiPassword123!' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 AND [u].[Password] = @__passwordHash_1
2025-05-25 14:45:30.166 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 14:45:30.176 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 22156.1272ms
2025-05-25 14:45:30.180 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:45:30.190 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 22238.7248ms
2025-05-25 14:47:05.273 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 14:47:05.512 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 14:47:05.537 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 14:47:05.542 -05:00 [INF] Hosting environment: Development
2025-05-25 14:47:05.544 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 14:47:05.758 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 253.6592ms
2025-05-25 14:47:05.784 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 14:47:05.784 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 14:47:05.791 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.9698ms
2025-05-25 14:47:05.835 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.0386ms
2025-05-25 14:47:05.882 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 14:47:05.893 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.5338ms
2025-05-25 14:47:22.587 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 74
2025-05-25 14:47:22.604 -05:00 [INF] CORS policy execution failed.
2025-05-25 14:47:22.608 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 14:47:22.614 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 14:47:22.618 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:47:22.649 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 14:47:23.362 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:47:23.412 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:47:24.208 -05:00 [INF] Executed DbCommand (57ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 14:47:30.919 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 8262.7573ms
2025-05-25 14:47:30.926 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 14:47:30.933 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Inventory.Infrastructure.Security.AuthenticationService.VerifyPassword(String hashedPassword, String plainPassword) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Services\Security\AuthenticationService.cs:line 43
   at Inventory.Application.Services.UserService.ValidateLoginAsync(String email, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 32
   at Inventory.API.Controllers.AuthController.Login(LoginRequest loginRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 27
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 14:47:30.984 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 500 null text/plain; charset=utf-8 8397.256ms
2025-05-25 14:56:16.329 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:56:16.410 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:56:32.267 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:56:32.352 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:56:40.780 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:56:40.865 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:56:41.192 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:57:57.171 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:57:57.280 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:58:02.567 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 14:58:02.655 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 14:58:02.873 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:00:46.854 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:00:46.936 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:00:53.455 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:00:53.543 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:00:53.764 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:02:52.323 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:02:52.405 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:02:52.629 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:03:11.723 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:03:11.848 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:03:18.565 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:03:18.656 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:03:18.876 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:25:52.021 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:25:52.250 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:25:52.253 -05:00 [INF] Hosting environment: Development
2025-05-25 15:25:52.255 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:25:52.283 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:25:52.597 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 322.9025ms
2025-05-25 15:25:52.625 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:25:52.626 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:25:52.637 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.7383ms
2025-05-25 15:25:52.670 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2897ms
2025-05-25 15:25:52.758 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:25:52.775 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.5317ms
2025-05-25 15:26:39.849 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/register - application/json 102
2025-05-25 15:26:39.880 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:26:39.883 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:26:39.890 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:26:39.896 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:26:39.939 -05:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Register(Inventory.Application.DTOs.RegisterRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:26:52.890 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:26:52.946 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:26:53.292 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Register (Inventory.API) in 13344.3785ms
2025-05-25 15:26:53.297 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:26:53.300 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email == __email_0)' could not be translated. Additional information: Translation of member 'Email' on entity type 'User' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.UserRepository.GetByEmailAsync(String email) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\UserRepository.cs:line 33
   at Inventory.Application.Services.UserService.GetByEmailAsync(String email) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 54
   at Inventory.API.Controllers.AuthController.Register(RegisterRequest registerRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 47
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 15:26:53.371 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/register - 500 null text/plain; charset=utf-8 13526.0382ms
2025-05-25 15:27:45.508 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:27:45.693 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:27:45.697 -05:00 [INF] Hosting environment: Development
2025-05-25 15:27:45.698 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:27:45.967 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:27:46.208 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 248.5044ms
2025-05-25 15:27:46.224 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:27:46.232 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.6679ms
2025-05-25 15:27:46.247 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:27:46.290 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0516ms
2025-05-25 15:27:46.381 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:27:46.399 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.8688ms
2025-05-25 15:28:02.667 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/register - application/json 102
2025-05-25 15:28:02.685 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:28:02.688 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:28:02.693 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:28:02.696 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:28:02.724 -05:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Register(Inventory.Application.DTOs.RegisterRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:28:05.973 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:28:06.049 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:28:06.863 -05:00 [INF] Executed DbCommand (44ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:28:31.448 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:29:10.810 -05:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[@p0='79f64475-1fe4-437a-5769-08dd9bcace7d', @p1='2025-05-25T20:29:01.8478437Z', @p2='2025-05-25T20:29:01.8478437Z', @p3='jorge.luis199454@gmail.com' (Nullable = false) (Size = 4000), @p4='AQAAAAIAAYagAAAAEAAwpNSZDaBwFiDAP7QJN01bomZMDZyn+25JBSKDfE5xwC9//wcu7RuRiZ/moB5Tyw==' (Nullable = false) (Size = 4000), @p5='jorgeLuis' (Nullable = false) (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [UpdatedAt], [Email], [Password], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-25 15:29:10.850 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Inventory.Infrastructure.InventoryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conflicto de tipos de operandos: uniqueidentifier es incompatible con int
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bc855ce-631c-4110-b95d-6ac97424ea42
Error Number:206,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conflicto de tipos de operandos: uniqueidentifier es incompatible con int
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bc855ce-631c-4110-b95d-6ac97424ea42
Error Number:206,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-25 15:29:11.154 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Register (Inventory.API) in 68421.0807ms
2025-05-25 15:29:11.161 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:29:11.167 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conflicto de tipos de operandos: uniqueidentifier es incompatible con int
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bc855ce-631c-4110-b95d-6ac97424ea42
Error Number:206,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Inventory.Infrastructure.Repositories.UserRepository.AddAsync(User user) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Repositories\UserRepository.cs:line 28
   at Inventory.Application.Services.UserService.RegisterUserAsync(UserDto userDto, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 49
   at Inventory.API.Controllers.AuthController.Register(RegisterRequest registerRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 60
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 15:29:11.222 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/register - 500 null text/plain; charset=utf-8 68554.7875ms
2025-05-25 15:29:56.923 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:29:56.995 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:29:57.132 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:30:37.999 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:30:38.097 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:30:44.098 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:30:44.168 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:30:44.458 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 15:30:44.468 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-25 15:30:44.480 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-25 15:30:44.534 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-25 15:30:44.543 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 15:30:44.544 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 15:30:44.546 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 15:30:44.555 -05:00 [INF] Applying migration '20250525203038_CreateUserTableNow'.
2025-05-25 15:30:44.570 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id])
);
2025-05-25 15:30:44.572 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 15:30:44.574 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Batches] (
    [Id] uniqueidentifier NOT NULL,
    [EntryDate] datetime2 NOT NULL,
    [PriceAmount] decimal(18,2) NOT NULL,
    [PriceCurrency] nvarchar(3) NOT NULL,
    [ProductId] uniqueidentifier NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_Batches] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Batches_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);
2025-05-25 15:30:45.004 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Batches_ProductId] ON [Batches] ([ProductId]);
2025-05-25 15:30:45.006 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250525203038_CreateUserTableNow', N'9.0.5');
2025-05-25 15:30:45.008 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-05-25 15:30:56.839 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:30:56.977 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:30:57.075 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:30:57.078 -05:00 [INF] Hosting environment: Development
2025-05-25 15:30:57.081 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:30:57.220 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 248.8878ms
2025-05-25 15:30:57.234 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:30:57.242 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.4713ms
2025-05-25 15:30:57.250 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:30:57.297 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.8757ms
2025-05-25 15:30:57.378 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:30:57.395 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.5042ms
2025-05-25 15:31:05.136 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/register - application/json 102
2025-05-25 15:31:05.153 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:31:05.156 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:31:05.161 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:31:05.165 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:31:05.200 -05:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Register(Inventory.Application.DTOs.RegisterRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:31:13.426 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:31:13.488 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:31:14.509 -05:00 [INF] Executed DbCommand (66ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:31:14.568 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:31:19.024 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='3f8c680f-7214-4f03-ac79-08dd9bcb1ae6', @p1='2025-05-25T20:31:18.8051329Z', @p2='2025-05-25T20:31:18.8051329Z', @p3='jorge.luis199454@gmail.com' (Nullable = false) (Size = 4000), @p4='AQAAAAIAAYagAAAAEDDx2wXthE2DunzKvXamB3Kqb45dbBm/Zl3/+NmpLVv80N4mlDOUZ91g1fspMOhsNw==' (Nullable = false) (Size = 4000), @p5='jorgeLuis' (Nullable = false) (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [UpdatedAt], [Email], [Password], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-25 15:31:24.747 -05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Inventory.Application.DTOs.UserDto'.
2025-05-25 15:31:24.779 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Register (Inventory.API) in 19570.4366ms
2025-05-25 15:31:24.785 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Register (Inventory.API)'
2025-05-25 15:31:24.795 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/register - 201 null application/json; charset=utf-8 19659.0328ms
2025-05-25 15:31:52.573 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 15:31:52.591 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:31:52.593 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:31:52.596 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:31:52.601 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:31:52.657 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:31:56.703 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.UserDto'.
2025-05-25 15:31:56.708 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 4102.322ms
2025-05-25 15:31:56.712 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:31:56.715 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 200 null application/json; charset=utf-8 4143.7534ms
2025-05-25 15:48:58.442 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:48:58.701 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:48:58.705 -05:00 [INF] Hosting environment: Development
2025-05-25 15:48:58.708 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:48:58.773 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:48:59.055 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 291.7246ms
2025-05-25 15:48:59.085 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:48:59.085 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:48:59.093 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.1981ms
2025-05-25 15:48:59.132 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.1842ms
2025-05-25 15:48:59.215 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:48:59.232 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.5752ms
2025-05-25 15:49:10.533 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 15:49:10.556 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:49:10.559 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:49:10.568 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:49:10.572 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:49:10.629 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:49:10.978 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:49:11.016 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 376.6501ms
2025-05-25 15:49:11.021 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:49:11.026 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 400 null application/problem+json; charset=utf-8 492.8633ms
2025-05-25 15:50:32.253 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:50:32.391 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:50:32.395 -05:00 [INF] Hosting environment: Development
2025-05-25 15:50:32.398 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:50:32.842 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:50:33.053 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 218.0219ms
2025-05-25 15:50:33.083 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:50:33.084 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:50:33.094 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.3216ms
2025-05-25 15:50:33.135 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.3912ms
2025-05-25 15:50:33.217 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:50:33.235 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.5862ms
2025-05-25 15:50:42.201 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 15:50:42.223 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:50:42.226 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:50:42.231 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:50:42.236 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:50:42.265 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:50:42.489 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:50:42.515 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 241.1192ms
2025-05-25 15:50:42.519 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:50:42.525 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 400 null application/problem+json; charset=utf-8 324.0783ms
2025-05-25 15:51:41.000 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:51:41.170 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:51:41.173 -05:00 [INF] Hosting environment: Development
2025-05-25 15:51:41.175 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:51:41.603 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:51:41.835 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 239.5046ms
2025-05-25 15:51:41.855 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:51:41.863 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.5408ms
2025-05-25 15:51:41.876 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:51:41.920 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7747ms
2025-05-25 15:51:41.962 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:51:41.980 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.6178ms
2025-05-25 15:51:50.512 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 15:51:50.531 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:51:50.533 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:51:50.538 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:51:50.542 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:51:50.571 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:51:51.293 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:51:51.357 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:51:52.309 -05:00 [INF] Executed DbCommand (55ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:51:52.618 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 2038.9934ms
2025-05-25 15:51:52.624 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:51:52.632 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: JWT key is not configured.
   at Inventory.Infrastructure.Security.AuthenticationService.GenerateToken(String userId, String userName, DateTime expirationDate) in C:\Users\jorge\Source\Repos\inventory\Inventory.Infrastructure\Services\Security\AuthenticationService.cs:line 66
   at Inventory.Application.Services.UserService.ValidateLoginAsync(String email, String password) in C:\Users\jorge\Source\Repos\inventory\Inventory.Application\Services\UserService.cs:line 35
   at Inventory.API.Controllers.AuthController.Login(LoginRequest loginRequest) in C:\Users\jorge\Source\Repos\inventory\Inventory.API\Controllers\AuthController.cs:line 27
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 15:51:52.692 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 500 null text/plain; charset=utf-8 2179.8432ms
2025-05-25 15:53:27.057 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 15:53:27.364 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 15:53:27.418 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:53:27.420 -05:00 [INF] Hosting environment: Development
2025-05-25 15:53:27.422 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 15:53:27.589 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 235.3685ms
2025-05-25 15:53:27.620 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 15:53:27.620 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:53:27.637 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.7785ms
2025-05-25 15:53:27.671 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.2945ms
2025-05-25 15:53:27.748 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 15:53:27.762 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6508ms
2025-05-25 15:53:36.653 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 15:53:36.675 -05:00 [INF] CORS policy execution failed.
2025-05-25 15:53:36.678 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 15:53:36.681 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:53:36.686 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:53:36.721 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:53:37.425 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 15:53:37.494 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 15:53:38.328 -05:00 [INF] Executed DbCommand (42ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:53:38.541 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.LoginResponse'.
2025-05-25 15:53:38.553 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 1822.3335ms
2025-05-25 15:53:38.557 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:53:38.567 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 200 null application/json; charset=utf-8 1913.5536ms
2025-05-25 15:57:12.956 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 15:57:12.986 -05:00 [INF] CORS policy execution successful.
2025-05-25 15:57:12.990 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 33.5195ms
2025-05-25 15:57:13.006 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 64
2025-05-25 15:57:13.012 -05:00 [INF] CORS policy execution successful.
2025-05-25 15:57:13.013 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:57:13.017 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 15:57:13.058 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 15:57:13.066 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 15:57:13.070 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 48.3436ms
2025-05-25 15:57:13.073 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 15:57:13.075 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 68.9474ms
2025-05-25 16:00:52.569 -05:00 [INF] Now listening on: http://localhost:5042
2025-05-25 16:00:53.010 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 16:00:53.014 -05:00 [INF] Hosting environment: Development
2025-05-25 16:00:53.020 -05:00 [INF] Content root path: C:\Users\jorge\Source\Repos\inventory\Inventory.API
2025-05-25 16:00:53.020 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/index.html - null null
2025-05-25 16:00:53.440 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/index.html - 200 null text/html;charset=utf-8 442.9155ms
2025-05-25 16:00:53.480 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 16:00:53.480 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/_vs/browserLink - null null
2025-05-25 16:00:53.493 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.6684ms
2025-05-25 16:00:53.555 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.1593ms
2025-05-25 16:00:53.631 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - null null
2025-05-25 16:00:53.650 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.3969ms
2025-05-25 16:00:55.122 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 16:00:55.144 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:00:55.149 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 27.0694ms
2025-05-25 16:00:55.159 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 64
2025-05-25 16:00:55.169 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:00:55.175 -05:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 16:00:55.180 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:00:55.233 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:00:56.209 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-25 16:00:56.298 -05:00 [WRN] No store type was specified for the decimal property '_priceAmount' on entity type 'Batch'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-25 16:00:57.607 -05:00 [INF] Executed DbCommand (92ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:00:57.695 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 16:00:57.714 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 2469.3076ms
2025-05-25 16:00:57.722 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:00:57.755 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 2595.1645ms
2025-05-25 16:00:57.991 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 64
2025-05-25 16:00:58.004 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:00:58.007 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:00:58.011 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:00:58.095 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:00:58.106 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 16:00:58.113 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 97.0364ms
2025-05-25 16:00:58.119 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:00:58.123 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 132.2359ms
2025-05-25 16:01:20.216 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 16:01:20.232 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:01:20.235 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 19.88ms
2025-05-25 16:01:20.249 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 64
2025-05-25 16:01:20.253 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:01:20.254 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:20.256 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:01:20.314 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:01:20.319 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 16:01:20.322 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 62.9802ms
2025-05-25 16:01:20.325 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:20.328 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 78.6539ms
2025-05-25 16:01:28.873 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 16:01:28.880 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:01:28.883 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 10.2544ms
2025-05-25 16:01:28.895 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 64
2025-05-25 16:01:28.908 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:01:28.912 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:28.916 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:01:28.925 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='jorgeluis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:01:28.939 -05:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-05-25 16:01:28.941 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 19.8862ms
2025-05-25 16:01:28.943 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:28.945 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 401 null text/plain; charset=utf-8 50.0438ms
2025-05-25 16:01:58.963 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 75
2025-05-25 16:01:58.978 -05:00 [INF] CORS policy execution failed.
2025-05-25 16:01:58.980 -05:00 [INF] Request origin http://localhost:5042 does not have permission to access the resource.
2025-05-25 16:01:58.982 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:58.984 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:01:58.994 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:01:59.177 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.LoginResponse'.
2025-05-25 16:01:59.184 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 197.725ms
2025-05-25 16:01:59.187 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:01:59.189 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 200 null application/json; charset=utf-8 227.4612ms
2025-05-25 16:02:31.471 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 16:02:31.499 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:02:31.501 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 30.1463ms
2025-05-25 16:02:31.518 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 65
2025-05-25 16:02:31.524 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:02:31.527 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:02:31.530 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:02:31.543 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:02:31.613 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.LoginResponse'.
2025-05-25 16:02:31.617 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 83.1477ms
2025-05-25 16:02:31.621 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:02:31.623 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 200 null application/json; charset=utf-8 105.2132ms
2025-05-25 16:02:35.693 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/products - null null
2025-05-25 16:02:35.702 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:02:35.705 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:02:35.713 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 16:02:35.849 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 16:02:35.863 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:02:35.875 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 157.0835ms
2025-05-25 16:02:35.880 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:02:35.882 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/products - 200 null application/json; charset=utf-8 189.2673ms
2025-05-25 16:03:17.435 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/products - null null
2025-05-25 16:03:17.479 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:03:17.481 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:03:17.483 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 16:03:17.494 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 16:03:17.501 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:03:17.511 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 23.3703ms
2025-05-25 16:03:17.513 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:03:17.516 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/products - 200 null application/json; charset=utf-8 80.7247ms
2025-05-25 16:03:23.930 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - null null
2025-05-25 16:03:23.935 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:03:23.937 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5042/api/Auth/login - 204 null null 7.5599ms
2025-05-25 16:03:23.953 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5042/api/Auth/login - application/json 65
2025-05-25 16:03:23.959 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:03:23.961 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:03:23.962 -05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Inventory.Application.DTOs.UserDto]] Login(Inventory.Application.DTOs.LoginRequest) on controller Inventory.API.Controllers.AuthController (Inventory.API).
2025-05-25 16:03:23.969 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='jorge.luis199454@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[UpdatedAt], [u].[Email], [u].[Password], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-25 16:03:24.046 -05:00 [INF] Executing OkObjectResult, writing value of type 'Inventory.Application.DTOs.LoginResponse'.
2025-05-25 16:03:24.051 -05:00 [INF] Executed action Inventory.API.Controllers.AuthController.Login (Inventory.API) in 86.1641ms
2025-05-25 16:03:24.055 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.AuthController.Login (Inventory.API)'
2025-05-25 16:03:24.059 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5042/api/Auth/login - 200 null application/json; charset=utf-8 105.8142ms
2025-05-25 16:03:24.083 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5042/api/products - null null
2025-05-25 16:03:24.090 -05:00 [INF] CORS policy execution successful.
2025-05-25 16:03:24.092 -05:00 [INF] Executing endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:03:24.094 -05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Inventory.Application.DTOs.ProductDto]]] GetAll() on controller Inventory.API.Controllers.ProductsController (Inventory.API).
2025-05-25 16:03:24.103 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [b].[Id], [b].[EntryDate], [b].[PriceAmount], [b].[PriceCurrency], [b].[ProductId], [b].[Quantity]
FROM [Products] AS [p]
LEFT JOIN [Batches] AS [b] ON [p].[Id] = [b].[ProductId]
ORDER BY [p].[Id]
2025-05-25 16:03:24.108 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Inventory.Domain.Models.Product, Inventory.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Inventory.Application.DTOs.ProductDto, Inventory.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:03:24.110 -05:00 [INF] Executed action Inventory.API.Controllers.ProductsController.GetAll (Inventory.API) in 13.5516ms
2025-05-25 16:03:24.113 -05:00 [INF] Executed endpoint 'Inventory.API.Controllers.ProductsController.GetAll (Inventory.API)'
2025-05-25 16:03:24.114 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5042/api/products - 200 null application/json; charset=utf-8 31.4383ms
